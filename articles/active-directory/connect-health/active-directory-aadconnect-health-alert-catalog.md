---
title: Azure AD Connect Health - Alert Catalog | Microsoft Docs
description: This document shows the catalog of all alerts in Azure AD Connect Health.
services: active-directory
documentationcenter: ''
author: zhiweiw
manager: maheshu
editor: ''
ms.service: active-directory
ms.workload: identity
ms.tgt_pltfrm: na
ms.devlang: na
ms.topic: article
ms.date: 03/15/2018
ms.author: zhiweiw
---

# Azure Active Directory Connect Health Alert Catalog 


## Alerts for Azure AD Connect (Sync)

| Alert Name | Description | Remediation |
| --- | --- | ----- |
| Azure AD Connect Sync Service is not running | Microsoft Azure AD Sync Windows service is not running or could not start. As a result, objects will not synchronize with Azure Active Directory. | Start Microsoft Azure Active Directory Sync Services</b> <ol> <li>Click <b>Start</b>, click <b>Run</b>, type <b>Services.msc</b>, and then click <b>OK</b>.</li> <li>Locate the <b>Microsoft Azure AD Sync service</b>, and then check whether the service is started. If the service isn't started, right-click it, and then click <b>Start</b>. | 
| Import from Azure Active Directory failed | The import operation from Azure Active Directory Connector has failed. |  Investigate the event log errors of import operation for further details.  |
| Connection to Azure Active Directory failed due to authentication failure | Connection to Azure Active Directory failed due to authentication failure. As a result objects will not be synchronized with Azure Active Directory.	| Investigate the event log errors for further details. If problem persists, please contact Microsoft Support for further assistance. |
| Export to Active Directory failed | The export operation to Active Directory Connector has failed. | Investigate the event log errors of export operation for further details. | 
| Import from Active Directory failed | Import from Active Directory failed. As a result, objects from some domains from this forest may not be imported. | <li>Verify DC connectivity</li> <li>Rerun import manually</li> <li> Investigate event log errors of the import operation for further details. | 
| Export to Azure Active Directory failed |	The export operation to Azure Active Directory Connector has failed. As a result, some objects may not be exported successfully to Azure Active Directory. | Investigate the event log errors of export operation for further details. |
| Password Synchronization heartbeat was skipped in last 120 minutes | Password Synchronization has not connected with Azure Active Directory in the last 120 minutes. As a result, passwords will not be synchronized with Azure Active Directory. | Restart Microsoft Azure Active Directory Sync Services:</b><br> Note that any synchronization operations that are currently running will be interrupted. You can chose to perform below steps when no synchronization operation is in progress.<br> 1. Click <b>Start</b>, click <b>Run</b>, type <b>Services.msc</b>, and then click <b>OK</b>.<br> 2. Locate <b>Microsoft Azure AD Sync</b>, right-click it, and then click <b>Restart</b>. | 
| High CPU Usage detected | The percentage of CPU consumption crossed the recommended threshold on this server. | <li>This could be a temporary spike in CPU consumption. Check the CPU usage trend from the Monitoring section.</li><li>Inspect the top processes consuming the highest CPU usage on the server.<ol type="a"><li>You may use the Task Manager or execute the following PowerShell Command: <br> <i>get-process \| Sort-Object -Descending CPU \| Select-Object -First 10</i></li><li>If there are unexpected processes consuming high CPU usage, stop the processes using the following PowerShell command: <br> <i>stop-process -ProcessName [name of the process]</i></li></li></ol><li>If the processes seen in the above list are the intended processes running on the server and the CPU consumption is continuously near the threshold please consider re-evaluating the deployment requirements of this server.</li><li>As a fail-safe option you may consider restarting the server. |
| High Memory Consumption Detected | The percentage of memory consumption of the server is beyond the recommended threshold on this server. | Inspect the top processes consuming the highest memory on the server. You may use the Task Manager or execute the following PowerShell Command:<br> <i>get-process \| Sort-Object -Descending WS \| Select-Object -First 10</i> </br> If there are unexpected processes consuming high memory, stop the processes using the following PowerShell command:<br><i>stop-process -ProcessName [name of the process] </i></li><li> If the processes seen in the above list are the intended processes running on the server, please consider re-evaluating the deployment requirements of this server.</li><li>As a failsafe option, you may consider restarting the server. | 
| Password Synchronization has stopped working | The Password Synchronization has stopped. As a result passwords will not be synchronized with Azure Active Directory. | Restart Microsoft Azure Active Directory Sync Services: <br /> Note that any synchronization operations that are currently running will be interrupted. You can chose to perform below steps when no synchronization operation is in progress. <br /> <ol> <li>Click <b>Start</b>, click <b>Run</b>, type <b>Services.msc</b>, and then click <b>OK</b>.</li> <li>Locate the <b>Microsoft Azure AD Sync</b>, right-click it, and then click <b>Restart</b>.</li> </ol> </p>  | 
| Export to Azure Active Directory was Stopped. Accidental delete threshold was reached | The export operation to Azure Active Directory has failed. There were more objects to be deleted than the configured threshold. As a result, no objects were exported. | <li> The number of objects are marked for deletion are greater than the set threshold. Ensure this outcome is desired.</li> <li> To allow the export to continue, please perform the following steps: <ol type="a"> <li>Disable Threshold by running Disable-ADSyncExportDeletionThreshold</li> <li>Start Sychronization Service Manager</li> <li>Run Export on Connector with type = Azure Active Directory</li> <li>After successfully exporting the objects, enable Threshold by running : Enable-ADSyncExportDeletionThreshold</li> </ol> </li> |

## Alerts for Active Directory Domain Services

| Alert Name | Description | Remediation |
| --- | --- | ----- |
| Domain controller is unreachable via LDAP ping | Domain Controller is not reachable via LDAP Ping. This can be caused due to Network issues or machine issues. As a result, LDAP Pings will fail.	|  <li>Examine alerts list for related alerts, such as: Domain Controller is not advertising. </li><li>Ensure affected Domain Controller has sufficient disk space. Running out of space will stop the DC from advertising itself as an LDAP server. </li><li> Attempt to find the PDC: Run <br> <i>netdom query fsmo </i> </br> on the affected Domain Controller. <li> Ensure physical network is properly configured/connected. </li> |
| Active Directory replication error encountered | This domain controller is experiencing replication issues, which can be found by going to the Replication Status Dashboard. Replication errors may be due to improper configuration or other related issues. Untreated replication errors can lead to data inconsistency. | See additional details for the names of the affected source and destination DCs. Navigate to Replication Status dashboard and look for the active errors on the affected DCs. Click on the error to open a blade with more details on how to remediate that particular error.| 
| Domain controller is unable to find a PDC	| A PDC is not reachable through this domain controller. This will lead to impacted user logons, unapplied group policy changes and system time synchronization failure. | <li>Examine alerts list for related alerts that could be impacting your PDC, such as: Domain Controller is not advertising. </li> <li>Attempt to find the PDC: Run <br> <i>netdom query fsmo </i> </br> on the affected Domain Controller.<li>Ensure network is working properly. </li> |
| Domain controller is unable to find a Global Catalog server | A global catalog server is not reachable from this domain controller. It will result in failed authentications attempted through this Domain Controller. | Examine the alerts list for any <b>Domain Controller is not advertising</b> alerts where the impacted server might be a GC. If there are no advertising alerts, check the SRV records for the GCs. You can check them by running: <br> <i> nltest \/dnsgetdc: [ForestName] \/gc </i> </br> It should list the DCs advertising as GCs. If the list is empty, check the DNS configuration to ensure that the GC has registered the SRV records. The DC is able to find them in DNS. <br />For troubleshooting Global Catalogs, see <a href="https://technet.microsoft.com/en-us/library/cc961811.aspx#ECAA">Advertising as a Global Catalog Server. </a> | 
| Domain controller unable to reach local SYSVOL share | Sysvol contains important elements from Group Policy Objects and scripts to be distributed within DCs of a domain. The DC will not advertise itself as DC and Group Policies will not be applied. | See <a href="https://support.microsoft.com/en-us/kb/2958414">How to troubleshoot missing SYSVOL and Netlogon shares </a> | 
| Domain Controller time is out of sync | The time on this Domain Controller is outside of the normal Time Skew range. As a result, Kerberos authentications will fail. | <li>Restart Windows Time Service: Run <br><i>net stop w32time</i> </br> then <br><i>net start w32time </i></br> on the affected Domain Controller.</li><li>Resync Time: Run <br><i>w32tm \/resync </i></br> on the affected Domain Controller. | 
| Domain controller is not advertising | This domain controller is not properly advertising the roles it's capable of performing. This can be caused by problems with replication, DNS misconfiguration, critical services not running, or because of the server not being fully initialized.  As a result, domain controllers, domain members, and other devices will not be able to locate this domain controller. Additionally, other domain controllers might not be able to replicate from this domain controller.	| Examine alerts list for other related alerts such as: Replication is broken. Domain controller time is out of sync. Netlogon service is not running. DFSR and/or NTFRS services are not running. Identify and troubleshoot related DNS problems:Logon to affected Domain controller. Open System Event Log. If events 5774, 5775 or 5781 are present, see <a href="https://msdn.microsoft.com/en-us/library/bb727055.aspx#ECAA">Troubleshooting Domain Controller Locator DNS Records Registration Failure</a> Identify and troubleshoot related Windows Time Service Issues: Ensure Windows Time service is running: Run '<b>net start w32time</b>' on the affected Domain Controller.Restart Windows Time Service: Run '<b>net stop w32time</b>' then '<b>net start w32time</b>' on the affected Domain Controller. | 
| GPSVC service is not running | If the service is stopped or disabled, settings configured by the admin will not be applied and applications and components will not be manageable through Group Policy. Any components or applications that depend on the Group Policy component might not be functional if the service is disabled.	| Run <br><i>net start gpsvc </i></br> on the affected Domain Controller. | 
| DFSR and/or NTFRS services are not running | If both DFSR and NTFRS services are stopped, Domain Controllers will not be able to replicate SYSVOL data. SYSVOL Data will be out of consistency. | If using DFSR: Run '<b>net start dfsr</b>' on the affected Domain Controller. If using NTFRS:</li><ol type="1" >Run '<b>net start ntfrs</b>' on the affected Domain Controller. | 
| Netlogon service is not running | Logon requests, registration, authentication and locating of domain controllers will be unavailable on this DC. | Run '<b>net start netlogon</b>' on the affected Domain Controller | 
| W32Time service is not running | If Windows Time Service is stopped, date and time synchronization will be unavailable. If this service is disabled, any services that explicitly depend on it will fail to start. | Run '<b>net start win32Time</b>' on the affected Domain Controller | 
| ADWS service is not running | If Active Directory Web Services service is stopped or disabled, client applications, such as Active Directory PowerShell, will not be able to access or manage any directory service instances that are running locally on this server. | Run '<b>net start adws</b>' on the affected Domain Controller | 
| Root PDC is not Syncing from NTP Server | If you do not configure the PDC to synchronize time from an external or internal time source, the PDC emulator uses its internal clock and is itself the reliable time source for the forest. If time is not accurate on the PDC itself, all computers will have incorrect time settings. | On the affected Domain Controller, open a command prompt. Stop the Time service: net stop w32time</li> <li>Configure the external time source: <br> <i>w32tm \/config \/manualpeerlist: time.windows.com \/syncfromflags:manual \/reliable:yes </i></br><br>Note: Replace time.windows.com with the address of your desired external time source. Start the Time service: <br> <i>net start w32time </i></br> | 
| Domain controller is quarantined | This Domain Controller is not connected to any of the other working Domain Controllers. This may be caused due to improper configuration. As a result, this DC is not being used and will not replicate from/to anyone. | <li>Enable inbound and outbound replication: Run '<b>repadmin /options ServerName -DISABLE_INBOUND_REPL</b>' on the affected Domain Controller. Run '<b>repadmin /options ServerName -DISABLE_OUTBOUND_REPL</b>' on the affected Domain Controller. Create a new replication connection to another Domain Controller:</li><ol type="1"><li>Open Active Directory Sites and Services: Start menu, point to Administrative Tools, then click Active Directory Sites and Services. </li><li>In the console tree, expand Sites, and then expand the site which this DC belongs to. </li><li>Expand the Servers container to display the list of servers. </li><li>Expand the server object for this DC. </li><li>Right click on the NTDS Settings object, and click on New Active Directory Domain Services Connection... </li><li>Select a Server from the list, and click Ok.</li></ol><a href="https://support.microsoft.com/en-us/kb/230306 ">How to remove orphaned domains from Active Directory.</a> |
| Outbound Replication is Disabled | DCs with disabled Outbound Replication, will not be able to distribute any changes originating within itself. | To enable outbound replication on the affected Domain Controller, follow these steps: Click Start, click Run, type cmd and then click OK. Type the following text, and then press ENTER:<br><i>repadmin /options -DISABLE_OUTBOUND_REPL </i> | 
| Inbound Replication is Disabled | DCs with disabled Inbound Replication, will not have the latest information. This can lead to logon failures. | To enable inbound replication on the affected Domain Controller, follow these steps:Click Start, click Run, type cmd and then click OK. Type the following text, and then press ENTER:<br><i>repadmin /options -DISABLE_INBOUND_REPL</i>. </br> | 
| LanmanServer service is not running | If this service is disabled, any services that explicitly depend on it will fail to start. | Run '<b>net start LanManServer</b>' on the affected Domain Controller. |
| Kerberos Key Distribution Center service is not running | If KDC Service is stopped, users will not be able to authentication through this DC using the Kerberos v5 authentication protocol. | Run '<b>net start kdc</b>' on the affected Domain Controller. |
| DNS service is not running | If DNS Service is stopped, computers and users using that server for DNS purposes will fail to find resources. | Run '<b>net start dns</b>' on the affected Domain Controller. |
| DC had USN Rollback | When USN rollbacks occur, modifications to objects and attributes are not inbound replicated by destination domain controllers that have previously seen the USN. Because these destination domain controllers believe they are up to date, no replication errors are reported in Directory Service event logs or by monitoring and diagnostic tools. USN rollback may affect the replication of any object or attribute in any partition. The most frequently observed side effect is that user accounts and computer accounts that are created on the rollback domain controller do not exist on one or more replication partners. Or, the password updates that originated on the rollback domain controller do not exist on replication partners. | There are two approaches to recover from a USN rollback: <p>Remove the Domain Controller from the domain, following these steps: <ol type="1"><li>Remove Active Directory from the domain controller to force it to be a stand-alone server. For more information, click the following article number to view the article in the Microsoft Knowledge Base: <br><a href="https://support.microsoft.com/en-us/kb/332199">332199</a> Domain controllers do not demote gracefully when you use the Active Directory Installation Wizard to force demotion in Windows Server 2003 and in Windows 2000 Server. </li> <li>Shut down the demoted server.</li> <li>On a healthy domain controller, clean up the metadata of the demoted domain controller. For more information, click the following article number to view the article in the Microsoft Knowledge Base: <br><a href="https://support.microsoft.com/en-us/kb/216498">216498</a> How to remove data in Active Directory after an unsuccessful domain controller demotion</li> <li>If the incorrectly restored domain controller hosts operations master roles, transfer these roles to a healthy domain controller. For more information, click the following article number to view the article in the Microsoft Knowledge Base: <br><a href="https://support.microsoft.com/en-us/kb/255504">255504</a> Using Ntdsutil.exe to transfer or seize FSMO roles to a domain controller</li> <li>Restart the demoted server.</li> <li>If you are required to, install Active Directory on the stand-alone server again.</li> <li>If the domain controller was previously a global catalog, configure the domain controller to be a global catalog. For more information, click the following article number to view the article in the Microsoft Knowledge Base: <br><a href="https://support.microsoft.com/en-us/kb/313994">313994</a> How to create or move a global catalog in Windows 2000</li> <li>If the domain controller previously hosted operations master roles, transfer the operations master roles back to the domain controller. For more information, click the following article number to view the article in the Microsoft Knowledge Base: <br><a href="https://support.microsoft.com/en-us/kb/255504">255504</a> Using Ntdsutil.exe to transfer or seize FSMO roles to a domain controller Restore the system state of a good backup.</li></ol></p> <p>Evaluate whether valid system state backups exist for this domain controller. If a valid system state backup was made before the rolled-back domain controller was incorrectly restored, and the backup contains recent changes that were made on the domain controller, restore the system state from the most recent backup.</p> <p>You can also use the snapshot as a source of a backup. Or you can set the database to give itself a new invocation ID using the procedure in the section "To restore a previous version of a virtual domain controller VHD without system state data backup" in <a href="http://technet.microsoft.com/en-us/library/dd363545(WS.10).aspx">this article</a></p></p> |









## Next steps
* [Azure AD Connect Health FAQ](active-directory-aadconnect-health-faq.md)
