### YamlMime:FAQ
metadata:
  title: Azure AD certificate-based authentication (CBA) FAQ - Azure Active Directory
  description: Frequently asked questions and answers related to Azure AD certificate-based authentication (CBA). 
  
  services: multi-factor-authentication
  ms.service: active-directory
  ms.subservice: authentication
  ms.topic: faq
  ms.date: 09/30/2022
  ms.author: justinha
  author: vimrang
  manager: amycolannino
  ms.reviewer: vimrang
  ms.collection: M365-identity-device-management
title: Frequently asked questions about Azure AD certificate-based authentication (CBA)
summary: |
  This article addresses frequently asked questions about how Azure AD certificate-based authentication (CBA) works. 
  Keep checking back for updated content.


sections:
  - name: General
    questions:
      - question: |
          Why don't I see an option to sign in to Azure Active Directory by using certificates after I enter my username?
        answer: |
          An administrator needs to enable CBA for the tenant to make the sign-in with certificate option available for users. For more information, see [Step 3: Configure authentication binding policy](how-to-certificate-based-authentication.md#step-3-configure-authentication-binding-policy).

      - question: |
          Where can I get more diagnostic information after a user sign-in failed? 
        answer: |
          On the error page, click **More Details** for more information to help your tenant admin look in the **Sign-ins** log to investigate further. For example, if a user certificate is revoked and is part of a Certificate Revocation List, then authentication fails correctly.
          To get more diagnostic information, look in  the **Sign-ins** log.

      - question: |
          How can an administrator enable Azure AD CBA?
        answer: |
          1. Sign in to the [Azure portal](https://portal.azure.com) as a Global Administrator.
          1. Click **Azure Active Directory** > **Security** > **Authentication methods** > **Certificate-based Authentication** > **Basics**, click **Yes** to enable certificate-based authentication.

      - question: |
          Is Azure AD CBA a free feature?
        answer: |
          Certificate-based authentication is a free feature. 
          Every edition of Azure AD includes Azure AD CBA.
          For more information about features in each Azure AD edition, see [Azure AD pricing](https://www.microsoft.com/security/business/identity-access-management/azure-ad-pricing).

      - question: |
          Does Azure AD CBA support Alternate ID as the username instead of userPrincipalName?
        answer: |
          No, sign-in using a non-UPN value, such as an alternate email, isn't supported now.
          
      - question: |
          Can I have more than one CRL Distribution Point (CDP) for a Certificate Authority (CA)?
        answer: |
          No, only one CDP is supported per CA.

      - question: |
          Can I have non-http URLs for CDP?
        answer: |
          No, CDP supports only HTTP URLs.

      - question: |
          How do I turn certificate revocation checking on or off for a particular CA?
        answer: |
          We highly recommend not to disable certificate revocation list (CRL) checking as you won't be able to revoke certificates. 
          However, to disable CRL checking if there are issues with CRL for a particular CA, you can update a trusted certificate authority and set the crlDistributionPoint attribute to """.
          
          Use the [Set-AzureADTrustedCertificateAuthority](/powershell/module/azuread/set-azureadtrustedcertificateauthority) cmdlet:
          
          ```powershell
          $c=Get-AzureADTrustedCertificateAuthority
          $c[0]. crlDistributionPoint =""
          Set-AzureADTrustedCertificateAuthority -CertificateAuthorityInformation $c[0]
          ```

      - question: |
          Is there a limit for CRL size?
        answer: |
          Today, as part of the GA, we have increased the CRL size limit as follows. 

           - Interactive sign in download limit: 20MB (Azure Global includes GCC), 45 for (Azure US government, includes GCC High, Dept. of Defense)
           - Service download limit: 45MB (Azure Global includes GCC), 150MB for (Azure US government, includes GCC High, Dept. of Defense)

            When a CRL download fails, customer will see an error "The Certificate Revocation List (CRL) downloaded from {uri} has exceeded the maximum allowed size ({size} bytes) for CRLs in Azure Active Directory. Try again in few minutes. If the issue persists, contact your tenant administrators."
            Once this happens, we move to background download with higher limits as above and the limit will remain high.

            We're reviewing the impact of these limits during GA and have plans to remove the limits.

      - question: |
          I see a valid Certificate Revocation List (CRL) endpoint set, but why don't I see any CRL revocation?
        answer: |
          - Make sure the CRL distribution point is set to a valid HTTP URL.
          - Make sure the CRL distribution point is accessible via an internet-facing URL.
          - Make sure the CRL sizes are within limits. 

      - question: |
          How do I instantly revoke a certificate?
        answer: |
          Follow the steps to [manually revoke a certificate](active-directory-certificate-based-authentication-get-started.md#step-3-configure-revocation). 

      - question: |
          Will the changes to the Authentication methods policy take effect immediately?
        answer: |
          The policy is cached. After a policy update, it may take up to an hour for the changes to take effect.
          
additionalContent: |
  ## Next steps
    If your question isn't answered here, see the following related topics:
          
    * [Overview of Azure AD CBA](concept-certificate-based-authentication.md)
    * [Technical deep dive for Azure AD CBA](concept-certificate-based-authentication-technical-deep-dive.md)
    * [Azure AD CBA on iOS devices](concept-certificate-based-authentication-mobile-ios.md)
    * [Azure AD CBA on Android devices](concept-certificate-based-authentication-mobile-android.md)
    * [How to configure Azure AD CBA](how-to-certificate-based-authentication.md)
    * [Windows smart card logon using Azure AD CBA](concept-certificate-based-authentication-smartcard.md)
    * [Certificate user IDs](concept-certificate-based-authentication-certificateuserids.md)
    * [How to migrate federated users](concept-certificate-based-authentication-migration.md)
    * [Advanced features](concept-certificate-based-authentication-advanced-features.md)