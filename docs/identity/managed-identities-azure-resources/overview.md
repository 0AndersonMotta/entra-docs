---
title: Managed identities for Azure resources
description: An overview of the managed identities for Azure resources.
services: active-directory
documentationcenter:
author: barclayn
manager: daveba
editor:
ms.assetid: 0232041d-b8f5-4bd2-8d11-27999ad69370
ms.service: active-directory
ms.subservice: msi
ms.devlang:
ms.topic: overview
ms.custom: mvc
ms.date: 09/17/2020
ms.author: barclayn

#As a developer, I'd like to securely manage the credentials that my application uses for authenticating to cloud services without having the credentials in my code or checked into source control.
ms.collection: M365-identity-device-management
---

# What are managed identities for Azure resources?

[!INCLUDE [preview-notice](../../../includes/active-directory-msi-preview-notice.md)]

A common challenge for developers is the management of credentials. Since many projects involve multiple services working together your code needs to have access to backend services and that means that it needs to authenticate to gain access. We want to make sure that we are handling credential information in the most secure manner possible so we want to avoid storing anything in code, checking it into source control or perhaps even sharing it with our developers. Azure Key Vault helps achieve this by providing a secure storage for secrets, certificates and keys but how does your code authenticate to Key Vault? 

Ideally you can achieve this while keeping credential information se

A common challenge when building cloud applications is how to manage the credentials in your code for authenticating to cloud services. Keeping the credentials secure is an important task. Ideally, the credentials never appear on developer workstations and aren't checked into source control. Azure Key Vault provides a way to securely store credentials, secrets, and other keys, but your code has to authenticate to Key Vault to retrieve them.

The managed identities for Azure resources feature in Azure Active Directory (Azure AD) solves this problem. The feature provides Azure services with an automatically managed identity in Azure AD. 


You can use the identity to authenticate to any service that supports Azure AD authentication, including Key Vault, without any credentials in your code.

The managed identities for Azure resources feature is free with Azure AD for Azure subscriptions. There's no additional cost.

Regardless of the type of identity chosen a managed identity is a service principal of a special type that may only be used with Azure resources. When the managed identity is deleted, the corresponding service principal is automatically removed.
Also, when a User-Assigned or System-Assigned Identity is created, the Managed Identity Resource Provider (MSRP) issues a certificate internally to that identity.

Azure takes care of rolling the credentials that are used by the service instance. 

> [!NOTE]
> Managed identities for Azure resources is the new name for the service formerly known as Managed Service Identity (MSI).

## Terminology

The following terms are used throughout the managed identities for Azure resources documentation set:

- **Client ID** - a unique identifier generated by Azure AD that is tied to an application and service principal during its initial provisioning.
- **A service principal** - An Azure service principal is an identity created for use with applications, hosted services, and automated tools to access Azure resources. This access is restricted by the roles assigned to the service principal, giving you control over which resources can be accessed and at which level.
- **Principal ID** - the object ID of the service principal object for your managed identity that is used to grant role-based access to an Azure resource.
- **Azure Instance Metadata Service (IMDS)** - a REST endpoint accessible to all IaaS VMs created via the Azure Resource Manager. The endpoint is available at a well-known non-routable IP address (169.254.169.254) that can be accessed only from within the VM.

## Managed identity types

There are two types of managed identities:

- **System-assigned** Some Azure services allow you to enable a managed identity directly on a service instance. When you enable the managed identity option as part of the configuration of a service instance Azure creates an identity in your Azure AD. After the identity is created, the credentials are provisioned onto the service instance where you enabled it. The system assigned managed identity has its life cycle tied directly to the service instance that triggered its creation. If the instance is deleted, Azure automatically removes the system-assigned managed identity information from Azure AD.
- **User-assigned** You may also create a managed identity as a standalone Azure resource. You can [create a user-assigned managed identity](how-to-manage-ua-identity-portal.md) and assign it to one or more instances of an Azure service. In the case of user assigned managed identities, the identity is managed separately from the resources that use it.

Regardless of the type of identity chosen a managed identity is a service principal of a special type that may only be used with Azure resources. When the managed identity is deleted, the corresponding service principal is automatically removed.
Also, when a User-Assigned or System-Assigned Identity is created, the Managed Identity Resource Provider (MSRP) issues a certificate internally to that identity.

Azure takes care of rolling the credentials that are used by the service instance.

## Credential Rotation

When using managed identities you no longer have to worry about changing passwords and updating authentication information. Credentials are rotated automatically. The resource provider hosting the service controls how often managed identities have their credentials rotated. By default, managed identities have their credentials rotated every 46 days but the resource provider may choose to implement credential rotation using a different interval.

## How can I use managed identities for Azure resources?

To learn how to use managed identities to access different Azure resources, try these tutorials.

> [!NOTE]
> Check out the [Implementing Managed Identities for Microsoft Azure Resources](https://www.pluralsight.com/courses/microsoft-azure-resources-managed-identities-implementing) course for more information about managed identities, including detailed video walkthroughs of several supported scenarios.

Learn how to use a managed identity with a Windows VM:

* [Access Azure Data Lake Store](tutorial-windows-vm-access-datalake.md)
* [Access Azure Resource Manager](tutorial-windows-vm-access-arm.md)
* [Access Azure SQL](tutorial-windows-vm-access-sql.md)
* [Access Azure Storage by using an access key](tutorial-vm-windows-access-storage.md)
* [Access Azure Storage by using shared access signatures](tutorial-windows-vm-access-storage-sas.md)
* [Access a non-Azure AD resource with Azure Key Vault](tutorial-windows-vm-access-nonaad.md)

Learn how to use a managed identity with a Linux VM:

* [Access Azure Container Registry](../../container-registry/container-registry-authentication-managed-identity.md)
* [Access Azure Data Lake Store](tutorial-linux-vm-access-datalake.md)
* [Access Azure Resource Manager](tutorial-linux-vm-access-arm.md)
* [Access Azure Storage by using an access key](tutorial-linux-vm-access-storage.md)
* [Access Azure Storage by using shared access signatures](tutorial-linux-vm-access-storage-sas.md)
* [Access a non-Azure AD resource with Azure Key Vault](tutorial-linux-vm-access-nonaad.md)

Learn how to use a managed identity with other Azure services:

* [Azure App Service](../../app-service/overview-managed-identity.md)
* [Azure API Management](../../api-management/api-management-howto-use-managed-service-identity.md)
* [Azure Container Instances](../../container-instances/container-instances-managed-identity.md)
* [Azure Container Registry Tasks](../../container-registry/container-registry-tasks-authentication-managed-identity.md)
* [Azure Event Hubs](../../event-hubs/authenticate-managed-identity.md)
* [Azure Functions](../../app-service/overview-managed-identity.md)
* [Azure Kubernetes Service](../../aks/use-managed-identity.md)
* [Azure Logic Apps](../../logic-apps/create-managed-service-identity.md)
* [Azure Service Bus](../../service-bus-messaging/service-bus-managed-service-identity.md)
* [Azure Data Factory](../../data-factory/data-factory-service-identity.md)


## What Azure services support the feature?<a name="which-azure-services-support-managed-identity"></a>

Managed identities for Azure resources can be used to authenticate to services that support Azure AD authentication. For a list of Azure services that support the managed identities for Azure resources feature, see [Services that support managed identities for Azure resources](./services-support-managed-identities.md).

## Next steps

Get started with the managed identities for Azure resources feature with the following quickstarts:

* [Use a Windows VM system-assigned managed identity to access Resource Manager](tutorial-windows-vm-access-arm.md)
* [Use a Linux VM system-assigned managed identity to access Resource Manager](tutorial-linux-vm-access-arm.md)